// –í–∞—à–∞ –∑–∞–¥–∞—á–∞ - —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —É–¥–æ–±–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–µ–±—è —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

// 1. –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞:
// ‚Ä¢ –°–≤–µ—Ä—Å—Ç–∞–π—Ç–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, —Ä–∞–∑–¥–µ–ª—è—è –µ–µ —ç–∫—Ä–∞–Ω –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

// 2. –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö (–õ–µ–≤–∞—è —á–∞—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã):
// ‚Ä¢ –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –≤–≤–æ–¥–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
//     ‚ó¶ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑—É—è input[type=file]).
//     ‚ó¶ –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è (–∏—Å–ø–æ–ª—å–∑—É—è input[type=text]).
//     ‚ó¶ –†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–ø–∞–Ω–∏–∏ (–≤—ã–±–æ—Ä –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º select).
//             ‚ó¶ –í–∞—Ä–∏–∞–Ω—Ç—ã: Meta, Apple, Amazon, Netflix, Google, Microsoft.
//             ‚ó¶ –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–º–ø–∞–Ω–∏–∏, —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ª–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏.
//     ‚ó¶ –¢–µ–∫—É—â—è—è –¥–æ–ª–∂–Ω–æ—Å—Ç—å –≤ –∫–æ–º–ø–∞–Ω–∏–∏ (–≤—ã–±–æ—Ä –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º input[type=radio]).
//             ‚ó¶ –í–∞—Ä–∏–∞–Ω—Ç—ã: Software Engineer Intern, Junior Software Engineer, Software Engineer, Senior Software Engineer.
//             ‚ó¶ –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —ç–º–æ–¥–∂–∏ –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —Ä–∞–Ω–≥.
//     ‚ó¶ –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (–∏—Å–ø–æ–ª—å–∑—É—è input[type=url]).
//             ‚ó¶ –í–∞—Ä–∏–∞–Ω—Ç—ã: Github, LinkedIn, Instagram, Telegram.

// 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã):
// ‚Ä¢ –ù–∞ –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ —Å–∞–π—Ç–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:
//     ‚ó¶ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
//     ‚ó¶ –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—é.
//     ‚ó¶ –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ª–æ–≥–æ—Ç–∏–ø–æ–º.
//     ‚ó¶ –¢–µ–∫—É—â—É—é –¥–æ–ª–∂–Ω–æ—Å—Ç—å.
//     ‚ó¶ –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ —Å –ª–æ–≥–æ—Ç–∏–ø–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–π (–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è —Å—Å—ã–ª–æ–∫).

// –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

// 1. –ê–Ω–∏–º–∞—Ü–∏—è:
//     ‚ó¶ –î–æ–±–∞–≤—å—Ç–µ –∞–Ω–∏–º–∞—Ü–∏—é –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–û—Ç–ø—Ä–∞–≤–∏—Ç—å", —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
// 2. –í–∞–ª–∏–¥–∞—Ü–∏—è:
//     ‚ó¶ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è —Ñ–æ—Ä–º—ã, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö.
//     ‚ó¶ –í —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.
// 3. –õ–æ–≥–æ—Ç–∏–ø—ã –∫–æ–º–ø–∞–Ω–∏–π:
//     ‚ó¶ –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –ª–æ–≥–æ—Ç–∏–ø—ã –∫–æ–º–ø–∞–Ω–∏–π —Ä—è–¥–æ–º —Å –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
// 4. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:
//     ‚ó¶ –û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≤–∏–¥–µ —Å—Å—ã–ª–æ–∫ —Å –ª–æ–≥–æ—Ç–∏–ø–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–π; –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—Å—ã–ª–æ–∫, –ª–æ–≥–æ—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏.




var selectedCompanyLogo = 'images/meta.png';
window.onload = function() {
    updateCompanyLogo();
};
document.getElementById('main-form1').addEventListener('submit', function(event) {
  event.preventDefault();
  if (!validateForm()) {
    return;
  }
  var photoInput = document.getElementById('photo');
  displayImage(photoInput);

  var username = document.getElementById('username').value;
  var company = document.getElementById('company').value;
  var position = document.querySelector('input[name="position"]:checked').value;
  var socialsContainer = document.createElement('div');
  socialsContainer.appendChild(createSocialLink(document.getElementById('github').value, 'github'));
  socialsContainer.appendChild(createSocialLink(document.getElementById('linkedin').value, 'linkedin'));
  socialsContainer.appendChild(createSocialLink(document.getElementById('instagram').value, 'instagram'));
  socialsContainer.appendChild(createSocialLink(document.getElementById('telegram').value, 'telegram'));

  if (username === '' || company === '' || position === '') {
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
    return;
  }

  var displaySection = document.getElementById('main-form2');
  displaySection.innerHTML = '<h2>–ü—Ä–æ—Ñ–∏–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>';
  displaySection.innerHTML += '<p>–ò–º—è: ' + username + '</p>';
  displaySection.innerHTML += '<p>–ö–æ–º–ø–∞–Ω–∏—è: ' + company + '</p>';
  var companyLogo = document.getElementById('companyLogo');
  if (!companyLogo) {
      companyLogo = document.createElement('img');
      companyLogo.id = 'companyLogo';
      companyLogo.style.width = '50px';
      displaySection.appendChild(companyLogo);
  }
  if (selectedCompanyLogo) {
      var img = document.getElementById('companyLogoDisplay');
      if (!img) {
          img = document.createElement('img');
          img.id = 'companyLogoDisplay';
          img.style.width = '50px';
          displaySection.appendChild(img);
      }
      img.src = selectedCompanyLogo;
      img.style.display = 'block';
  }
  companyLogo.src = selectedCompanyLogo;
  companyLogo.style.display = 'block';


  displaySection.innerHTML += '<p>–î–æ–ª–∂–Ω–æ—Å—Ç—å: ' + position + '</p>';
  displaySection.appendChild(socialsContainer);

  var submitButton = event.target.querySelector('button');
  submitButton.classList.add('clicked');
  setTimeout(function() {
    submitButton.classList.remove('clicked');
  }, 200);
});


function updateCompanyLogo() {
  var company = document.getElementById('company').value;
  var logo = document.getElementById('companyLogo');
  var logoPath = 'images/' + company + '.png';

  if (company) {
    logo.src = logoPath;
    logo.style.display = 'block';
    selectedCompanyLogo = logoPath; 
  } else {
    logo.style.display = 'none';
    selectedCompanyLogo = ''; 
  }
}


document.getElementById('company').addEventListener('change', updateCompanyLogo);

function updatePositionEmoji() {
  document.getElementById('emoji-intern').textContent = '';
  document.getElementById('emoji-junior').textContent = '';
  document.getElementById('emoji-engineer').textContent = '';
  document.getElementById('emoji-senior').textContent = '';

  var selectedPosition = document.querySelector('input[name="position"]:checked').value;

  var emojis = {
    intern: 'üë∂',   
    junior: 'üßë‚Äçüíª',   
    engineer: 'üíª', 
    senior: 'üë¥'    
  };
  document.getElementById('emoji-' + selectedPosition).textContent = emojis[selectedPosition];
}

function displayImage(fileInput) {
    var file = fileInput.files[0];
    var reader = new FileReader();

    reader.onload = function(e) {
        var userPhoto = document.getElementById('userPhoto');
        if (!userPhoto) {
            userPhoto = document.createElement('img');
            userPhoto.id = 'userPhoto';
            userPhoto.style.width = '100px'; 
            userPhoto.style.height = 'auto';
            var displaySection = document.getElementById('main-form2');
            displaySection.insertBefore(userPhoto, displaySection.firstChild);
        }
        userPhoto.src = e.target.result;
    };

    if (file) {
        reader.readAsDataURL(file);
    }
}


function createSocialLink(url, platform) {
  var link = document.createElement('a');
  var img = document.createElement('img');
  img.src = 'images/' + platform + '.png'; 
  img.style.width = '20px';  
  img.style.height = '20px';
  img.style.marginRight = '5px';

  if (url) {
    link.href = url;
    link.target = '_blank'; 
  } else {
    img.style.opacity = '0.3'; 
  }

  link.appendChild(img);
  return link;
}

function validateForm() {
    var isValid = true;
    var errorMessage = '';

    var username = document.getElementById('username').value;
    if (!username.trim()) {
        errorMessage += '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é.\n';
        isValid = false;
    }

    var company = document.getElementById('company').value;
    if (!company) {
        errorMessage += '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–ø–∞–Ω–∏—é.\n';
        isValid = false;
    }

    var position = document.querySelector('input[name="position"]:checked');
    if (!position) {
        errorMessage += '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ª–∂–Ω–æ—Å—Ç—å.\n';
        isValid = false;
    }

    var github = document.getElementById('github').value;
    if (github && !isValidUrl(github)) {
        errorMessage += '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π URL –¥–ª—è GitHub.\n';
        isValid = false;
    }

    if (!isValid) {
        alert(errorMessage);
    }

    return isValid;
}

function isValidUrl(string) {
    try {
        new URL(string);
    }    catch (_) {
        return false;
    }
    return true;
}
